Some code and ideas while reading Secrets of the JavaScript Ninja
